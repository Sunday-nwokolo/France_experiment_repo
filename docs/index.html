<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Scan Planning – Interactive Samples</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {font-family: system-ui, Segoe UI, Arial; margin: 2rem;}
    h1 {margin-bottom: 1rem;}
    #samples {display:grid;gap:12px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}
    .card {border:1px solid #ddd;border-radius:12px;padding:14px;background:#fafafa;box-shadow:2px 2px 6px rgba(0,0,0,0.05);}
    a {color:#0a58ca;text-decoration:none;font-weight:600;}
    a:hover{text-decoration:underline;}
  </style>
</head>
<body>
  <h1>Scan Planning – Interactive Samples</h1>
  <div id="samples">Loading samples…</div>

  <script>
    // Repo details
    const owner = "Sunday-nwokolo";
    const repo  = "France_experiment_repo";
    const branch = "main";
    // GitHub API endpoint for folder contents
    const apiURL = `https://api.github.com/repos/${owner}/${repo}/contents/docs/samples?ref=${branch}`;

    async function listSamples() {
      const container = document.getElementById('samples');
      try {
        const res = await fetch(apiURL, { headers: { 'Accept': 'application/vnd.github+json' }});
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const items = await res.json();

        // Keep only .html files
        const htmls = (items || [])
          .filter(it => it.type === 'file' && it.name.toLowerCase().endsWith('.html'))
          .sort((a,b) => a.name.localeCompare(b.name));

        if (htmls.length === 0) {
          container.innerHTML = "<p>No sample plots found in /samples/.</p>";
          return;
        }

        container.innerHTML = htmls.map(f => {
          const pretty = f.name.replace('.html','').replace(/_/g,' ');
          return `
            <div class="card">
              <h3>${pretty}</h3>
              <p><a href="samples/${f.name}" target="_blank" rel="noopener">Open plot</a></p>
            </div>
          `;
        }).join('');
      } catch (err) {
        container.innerHTML = `<p>Could not load samples (${err.message}).</p>`;
      }
    }
    listSamples();
  </script>
</body>
</html>
